#!/usr/bin/env bash

session=$( (echo 'Create new session'; tmux list-sessions -F '#S') | fzf --ansi --reverse --height=25%)

if [[ "Create new session" = "${session}" ]]; then
    tmux new -s "$(echo "" | fzf --print-query --height=25% --prompt="Enter session name > ")"
elif [[ -z "${session}" ]]; then
    echo "Cancel"
else
    tmux attach -t "${session}"
fi
